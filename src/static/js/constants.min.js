const $lay={};$lay.page={html:$id("LAY-HTML"),title:$id("LAY-PAGE-TITLE").content,title_full:$id("LAY-PAGE-TITLE-FULL").innerHTML,desc:$attr($id("LAY-PAGE-DESC"),"content"),type:$attr($id("LAY-PAGE-TYPE"),"content"),url:$attr($id("LAY-PAGE-URL"),"content"),img:$attr($id("LAY-PAGE-IMG"),"content"),site_name:$attr($id("LAY-SITE-NAME-SHORT"),"content"),site_name_full:$attr($id("LAY-SITE-NAME"),"content")},$lay.src={base:$id("LAY-PAGE-BASE").href,api:$id("LAY-API").value+"?c=",serve:$id("LAY-API").value,custom_img:$id("LAY-CUSTOM-IMG").value,back_img:$id("LAY-BACK-IMG").value,front_img:$id("LAY-FRONT-IMG").value,front_root:$id("LAY-FRONT-ROOT").value,back_root:$id("LAY-BACK-ROOT").value,custom_root:$id("LAY-CUSTOM-ROOT").value,uploads:$id("LAY-UPLOAD").value},$lay.fn={copy:(t,e="Link copied successfully")=>{if(navigator.clipboard)return navigator.clipboard.writeText(t).catch((()=>osNote("Cannot copy, enable clipboard permission from your setting and try again"))).then((t=>osNote(e,"success"))),!0;const a=document.createElement("textarea");return a.value=t,a.setAttribute("readonly",""),a.style.position="absolute",a.style.left="-9999px",document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),osNote(e,"success"),!0},rowEntrySave:t=>`<span style="display: none" class="d-none entry-row-info">${JSON.stringify(t).replace(/&quot;/g,'\\"')}</span>`,rowEntryAction:t=>{$on(t.targetElement??$sel("table.has-table-action")??$sel("table.data-table")??$sel("table.dt-live-dom"),"click",(e=>{t.then&&t.then();let a,n=e.target;($class(n,"has","table-actions")||$in(n,".table-actions","top")||$class(n,"has","table-action")||$in(n,".table-action","top"))&&(a=n,e.preventDefault(),$loop(t,((t,e)=>{if($data(a,"action")===e){let e=a.closest(".table-actions-parent")??a.closest("td");t({id:$data(a,"id"),name:decodeURIComponent($data(a,"name")),item:a,params:$data(a,"params")?.split(","),fn:()=>{let t=$data(a,"fn")?.trim();if(!t)return null;let e=$data(a,"fn-args");return e?new Function("",`return ${t}(${e.split(",")})`).call(this):")"===t.substring(t.length-1,1)?new Function("",`return ${t}`).call(this):new Function("",`return ${t}()`).call(this)},info:$sel(".entry-row-info",e)?JSON.parse($html($sel(".entry-row-info",e))):""})}})))}))},currency:(t,e="USD",a="en-US")=>new Intl.NumberFormat(a,{style:"currency",currency:e}).format(t)};