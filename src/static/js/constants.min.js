const $lay={};$lay.page={html:$id("LAY-HTML"),title:$id("LAY-PAGE-TITLE").content,title_full:$id("LAY-PAGE-TITLE-FULL").innerHTML,desc:$attr($id("LAY-PAGE-DESC"),"content"),type:$attr($id("LAY-PAGE-TYPE"),"content"),url:$attr($id("LAY-PAGE-URL"),"content"),img:$attr($id("LAY-PAGE-IMG"),"content"),site_name:$attr($id("LAY-SITE-NAME-SHORT"),"content"),site_name_full:$attr($id("LAY-SITE-NAME"),"content")},$lay.src={base:$id("LAY-PAGE-BASE").href,api:$id("LAY-API").value+"?c=",custom_img:$id("LAY-CUSTOM-IMG").value,back_img:$id("LAY-BACK-IMG").value,front_img:$id("LAY-FRONT-IMG").value,front_root:$id("LAY-FRONT-ROOT").value,back_root:$id("LAY-BACK-ROOT").value,custom_root:$id("LAY-CUSTOM-ROOT").value,uploads:$id("LAY-UPLOAD").value},$lay.fn={copy:(t,e="Link copied successfully")=>{if(navigator.clipboard)return navigator.clipboard.writeText(t).catch((()=>osNote("Cannot copy, enable clipboard permission from your setting and try again"))).then((t=>osNote(e,"success"))),!0;const n=document.createElement("textarea");return n.value=t,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),osNote(e,"success"),!0},rowEntrySave:t=>`<span style="display: none" class="d-none entry-row-info">${JSON.stringify(t).replace(/&quot;/g,'\\"')}</span>`,rowEntryAction:t=>{$on(t.targetElement??$sel("table.has-table-action")??$sel("table.data-table")??$sel("table.dt-live-dom"),"click",(e=>{t.then&&t.then();let n,a=e.target;($class(a,"has","table-actions")||$in(a,".table-actions","top")||$class(a,"has","table-action")||$in(a,".table-action","top"))&&(n=a,e.preventDefault(),$loop(t,((t,e)=>{if($data(n,"action")===e){let e=n.closest(".table-actions-parent")??n.closest("td");t({id:$data(n,"id"),name:decodeURIComponent($data(n,"name")),item:n,params:$data(n,"params")?.split(","),fn:()=>{let t=$data(n,"fn")?.trim();if(!t)return null;let e=$data(n,"fn-args");return e?new Function("",`return ${t}(${e.split(",")})`).call(this):")"===t.substring(t.length-1,1)?new Function("",`return ${t}`).call(this):new Function("",`return ${t}()`).call(this)},info:$sel(".entry-row-info",e)?JSON.parse($html($sel(".entry-row-info",e))):""})}})))}))},currency:(t,e="USD",n="en-US")=>new Intl.NumberFormat(n,{style:"currency",currency:e}).format(t)};